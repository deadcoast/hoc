# CAH 0.0.3 — Reference Bundle Draft (RBM + SI)

> **Note:** This draft is **provisional** for integration testing. Digests and sizes are placeholders with valid formats. Replace with real values during packaging.

## RBM-DRAFT (conforms to RBM schema)

```json
{
  "spec_series": "CAH",
  "bundle_version": "0.0.3",
  "bundle_digest": "0000000000000000000000000000000000000000000000000000000000000000",
  "created": "2025-10-08T00:00:00Z",
  "publisher": "CAH-SPEC-WG",
  "files": [
    { "path": "spec/grammar-core.md", "role": "schema", "format": "md", "sha256": "1111111111111111111111111111111111111111111111111111111111111111", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/node-io.md", "role": "rules", "format": "md", "sha256": "2222222222222222222222222222222222222222222222222222222222222222", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/span-object.md", "role": "rules", "format": "md", "sha256": "3333333333333333333333333333333333333333333333333333333333333333", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/op-legality.schema.json", "role": "legality_matrix", "format": "jsonschema", "sha256": "4444444444444444444444444444444444444444444444444444444444444444", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/op-legality.rules.json", "role": "rules", "format": "json", "sha256": "4545454545454545454545454545454545454545454545454545454545454545", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/csp-routing.md", "role": "rules", "format": "md", "sha256": "5555555555555555555555555555555555555555555555555555555555555555", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/normalizer-catalog.schema.json", "role": "schema", "format": "jsonschema", "sha256": "6666666666666666666666666666666666666666666666666666666666666666", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/error-catalog.json", "role": "rules", "format": "json", "sha256": "6767676767676767676767676767676767676767676767676767676767676767", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/serialization.schema.json", "role": "schema", "format": "jsonschema", "sha256": "7777777777777777777777777777777777777777777777777777777777777777", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/rca.md", "role": "canonical_algo", "format": "md", "sha256": "7878787878787878787878787878787878787878787878787878787878787878", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/validation-suite.md", "role": "rules", "format": "md", "sha256": "7979797979797979797979797979797979797979797979797979797979797979", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/versioning-precedence.md", "role": "rules", "format": "md", "sha256": "7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a7a", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/whitespace-layout.md", "role": "rules", "format": "md", "sha256": "7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b7b", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/notation-registry.json", "role": "registry", "format": "json", "sha256": "7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/timing-concurrency.md", "role": "rules", "format": "md", "sha256": "7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d7d", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/ast.json", "role": "ast_spec", "format": "json", "sha256": "7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e7e", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/segment-map.schema.json", "role": "segment_map", "format": "jsonschema", "sha256": "7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/renderer-contract.md", "role": "renderer_contract", "format": "md", "sha256": "8080808080808080808080808080808080808080808080808080808080808080", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/validator-contract.md", "role": "validator_contract", "format": "md", "sha256": "8181818181818181818181818181818181818181818181818181818181818181", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/conformance-test-manifest.schema.json", "role": "test_manifest_schema", "format": "jsonschema", "sha256": "8282828282828282828282828282828282828282828282828282828282828282", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/test-outcome.schema.json", "role": "test_outcome_schema", "format": "jsonschema", "sha256": "8383838383838383838383838383838383838383838383838383838383838383", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/reference-bundle-manifest.schema.json", "role": "manifest", "format": "jsonschema", "sha256": "8484848484848484848484848484848484848484848484848484848484848484", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/portability-profile.schema.json", "role": "manifest", "format": "jsonschema", "sha256": "8585858585858585858585858585858585858585858585858585858585858585", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/compliance-badge.schema.json", "role": "manifest", "format": "jsonschema", "sha256": "8686868686868686868686868686868686868686868686868686868686868686", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/issuer-registry.schema.json", "role": "manifest", "format": "jsonschema", "sha256": "8787878787878787878787878787878787878787878787878787878787878787", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/badge-verification-protocol.md", "role": "rules", "format": "md", "sha256": "8888888888888888888888888888888888888888888888888888888888888888", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/crl.schema.json", "role": "manifest", "format": "jsonschema", "sha256": "8989898989898989898989898989898989898989898989898989898989898989", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/status-api.schema.json", "role": "manifest", "format": "jsonschema", "sha256": "8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a8a", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/verifier-audit-log.schema.json", "role": "manifest", "format": "jsonschema", "sha256": "8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b8b", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/changelog.schema.json", "role": "changelog_schema", "format": "jsonschema", "sha256": "8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/abt-def-semantics.md", "role": "rules", "format": "md", "sha256": "8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d8d", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/numeric-model.md", "role": "rules", "format": "md", "sha256": "8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e8e", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/unit-registry.schema.json", "role": "registry", "format": "jsonschema", "sha256": "8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/ports-grammar.md", "role": "rules", "format": "md", "sha256": "9090909090909090909090909090909090909090909090909090909090909090", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/features-manifest.schema.json", "role": "manifest", "format": "jsonschema", "sha256": "9191919191919191919191919191919191919191919191919191919191919191", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/incremental-validation.md", "role": "rules", "format": "md", "sha256": "9292929292929292929292929292929292929292929292929292929292929292", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/privacy-provenance.md", "role": "docs", "format": "md", "sha256": "9393939393939393939393939393939393939393939393939393939393939393", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/normalizer-pipeline.schema.json", "role": "schema", "format": "jsonschema", "sha256": "9494949494949494949494949494949494949494949494949494949494949494", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/property-tests.schema.json", "role": "test_manifest_schema", "format": "jsonschema", "sha256": "9595959595959595959595959595959595959595959595959595959595959595", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/lint-catalog.json", "role": "docs", "format": "json", "sha256": "9696969696969696969696969696969696969696969696969696969696969696", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/adapter-0.0.1-0.0.3.json", "role": "manifest", "format": "json", "sha256": "9797979797979797979797979797979797979797979797979797979797979797", "size_bytes": 0, "version": "0.0.3" },
    { "path": "spec/adapter-0.0.2-0.0.3.json", "role": "manifest", "format": "json", "sha256": "9898989898989898989898989898989898989898989898989898989898989898", "size_bytes": 0, "version": "0.0.3" },
    { "path": "api/validator-api.md", "role": "docs", "format": "md", "sha256": "9999999999999999999999999999999999999999999999999999999999999999", "size_bytes": 0, "version": "0.0.3" }
  ],
  "dependency_graph": [
    { "from": "spec/validator-contract.md", "to": "spec/error-catalog.json", "kind": "consumes" },
    { "from": "spec/validator-contract.md", "to": "spec/op-legality.rules.json", "kind": "consumes" },
    { "from": "spec/rca.md", "to": "spec/serialization.schema.json", "kind": "references" },
    { "from": "spec/ast.json", "to": "spec/segment-map.schema.json", "kind": "references" },
    { "from": "spec/badge-verification-protocol.md", "to": "spec/issuer-registry.schema.json", "kind": "references" },
    { "from": "spec/badge-verification-protocol.md", "to": "spec/crl.schema.json", "kind": "consumes" }
  ],
  "signatures": []
}
```

## SI-DRAFT (conforms to SI §SI.2)

```json
{
  "series": "CAH",
  "spec_version": "0.0.3",
  "artifacts": [
    { "id": "GRAMMAR-CORE", "role": "schema", "path": "spec/grammar-core.md", "version": "0.0.3" },
    { "id": "NODE-IO", "role": "rules", "path": "spec/node-io.md", "version": "0.0.3" },
    { "id": "SPAN-OBJECT", "role": "rules", "path": "spec/span-object.md", "version": "0.0.3" },
    { "id": "OP-LEG-SCHEMA", "role": "legality_matrix", "path": "spec/op-legality.schema.json", "version": "0.0.3" },
    { "id": "OP-LEG-RULESET", "role": "rules", "path": "spec/op-legality.rules.json", "version": "0.0.3" },
    { "id": "CSP-ROUTING", "role": "rules", "path": "spec/csp-routing.md", "version": "0.0.3" },
    { "id": "PARITY-NORM-IFACE", "role": "schema", "path": "spec/normalizer-catalog.schema.json", "version": "0.0.3" },
    { "id": "ERROR-CATALOG", "role": "rules", "path": "spec/error-catalog.json", "version": "0.0.3" },
    { "id": "SERIALIZATION", "role": "schema", "path": "spec/serialization.schema.json", "version": "0.0.3" },
    { "id": "HASHING-RCA", "role": "canonical_algo", "path": "spec/rca.md", "version": "0.0.3" },
    { "id": "VALIDATION-SUITE", "role": "rules", "path": "spec/validation-suite.md", "version": "0.0.3" },
    { "id": "VERSIONING-PREC", "role": "rules", "path": "spec/versioning-precedence.md", "version": "0.0.3" },
    { "id": "WHITESPACE-LAYOUT", "role": "rules", "path": "spec/whitespace-layout.md", "version": "0.0.3" },
    { "id": "REGISTRY-NOTATION", "role": "registry", "path": "spec/notation-registry.json", "version": "0.0.3" },
    { "id": "TIMING-CONCURRENCY", "role": "rules", "path": "spec/timing-concurrency.md", "version": "0.0.3" },
    { "id": "AST-SHAPE", "role": "ast_spec", "path": "spec/ast.json", "version": "0.0.3" },
    { "id": "SEGMENT-MAP", "role": "segment_map", "path": "spec/segment-map.schema.json", "version": "0.0.3" },
    { "id": "RENDERER-CONTRACT", "role": "renderer_contract", "path": "spec/renderer-contract.md", "version": "0.0.3" },
    { "id": "VALIDATOR-CONTRACT", "role": "validator_contract", "path": "spec/validator-contract.md", "version": "0.0.3" },
    { "id": "CTM", "role": "test_manifest_schema", "path": "spec/conformance-test-manifest.schema.json", "version": "0.0.3" },
    { "id": "TOS", "role": "test_outcome_schema", "path": "spec/test-outcome.schema.json", "version": "0.0.3" },
    { "id": "RBM", "role": "manifest", "path": "spec/reference-bundle-manifest.schema.json", "version": "0.0.3" },
    { "id": "RPP", "role": "manifest", "path": "spec/portability-profile.schema.json", "version": "0.0.3" },
    { "id": "CBS", "role": "manifest", "path": "spec/compliance-badge.schema.json", "version": "0.0.3" },
    { "id": "IRS", "role": "manifest", "path": "spec/issuer-registry.schema.json", "version": "0.0.3" },
    { "id": "BVP", "role": "rules", "path": "spec/badge-verification-protocol.md", "version": "0.0.3" },
    { "id": "CRL", "role": "manifest", "path": "spec/crl.schema.json", "version": "0.0.3" },
    { "id": "SAS", "role": "manifest", "path": "spec/status-api.schema.json", "version": "0.0.3" },
    { "id": "VAL", "role": "manifest", "path": "spec/verifier-audit-log.schema.json", "version": "0.0.3" },
    { "id": "VCT", "role": "changelog_schema", "path": "spec/changelog.schema.json", "version": "0.0.3" },
    { "id": "ADS", "role": "rules", "path": "spec/abt-def-semantics.md", "version": "0.0.3" },
    { "id": "NDM", "role": "rules", "path": "spec/numeric-model.md", "version": "0.0.3" },
    { "id": "UR", "role": "registry", "path": "spec/unit-registry.schema.json", "version": "0.0.3" },
    { "id": "PEG", "role": "rules", "path": "spec/ports-grammar.md", "version": "0.0.3" },
    { "id": "FEA", "role": "manifest", "path": "spec/features-manifest.schema.json", "version": "0.0.3" },
    { "id": "IVS", "role": "rules", "path": "spec/incremental-validation.md", "version": "0.0.3" },
    { "id": "PVP", "role": "docs", "path": "spec/privacy-provenance.md", "version": "0.0.3" },
    { "id": "NPS", "role": "schema", "path": "spec/normalizer-pipeline.schema.json", "version": "0.0.3" },
    { "id": "PTS", "role": "test_manifest_schema", "path": "spec/property-tests.schema.json", "version": "0.0.3" },
    { "id": "LNC", "role": "docs", "path": "spec/lint-catalog.json", "version": "0.0.3" },
    { "id": "ADP-001", "role": "manifest", "path": "spec/adapter-0.0.1-0.0.3.json", "version": "0.0.3" },
    { "id": "ADP-002", "role": "manifest", "path": "spec/adapter-0.0.2-0.0.3.json", "version": "0.0.3" },
    { "id": "VAPI", "role": "docs", "path": "api/validator-api.md", "version": "0.0.3" }
  ],
  "dependencies": [
    { "from": "VALIDATOR-CONTRACT", "to": "ERROR-CATALOG", "kind": "consumes" },
    { "from": "VALIDATOR-CONTRACT", "to": "SERIALIZATION", "kind": "consumes" },
    { "from": "HASHING-RCA", "to": "SERIALIZATION", "kind": "references" },
    { "from": "CTM", "to": "PARITY-NORM-IFACE", "kind": "validates" },
    { "from": "CBS", "to": "RPP", "kind": "references" },
    { "from": "BVP", "to": "IRS", "kind": "references" },
    { "from": "RBM", "to": "SI-DRAFT", "kind": "references" }
  ]
}
```

---

## Integration Notes (normative)

* Replace placeholder digests/sizes with actual values during packaging; recompute `bundle_digest` per RBM.3.
* Include **SI-DRAFT** and **VAPI** paths in the final RBM; ensure `dependency_graph` is acyclic.
* REST/CLI implementations claiming compliance MUST pass CTM suites and publish **TOS** artifacts linked from VAPI `/v1/version` metadata or documentation.
